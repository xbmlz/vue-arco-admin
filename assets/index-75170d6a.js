import{d as b,z as y,A,D as i,u as s,aO as K,aP as ee,a as B,c as k,aQ as g,r as N,aR as U,aS as q,aH as e,aG as o,aT as w,aM as j,aI as V,aU as M,aV as z,aW as D,aX as oe,aY as te,aZ as H,a_ as Q,a$ as W}from"./arco-02ea24c4.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";import{u as ne,B as ae}from"./index-a4685244.js";/* empty css              *//* empty css              *//* empty css              */import{u as X,F as re}from"./index-f19e2dd1.js";import{b as le,u as ie}from"./vue-254b538e.js";const de="/vue-arco-admin/assets/logo-85d92f24.svg",ce="/vue-arco-admin/assets/login-banner-1dd0ed81.svg",ue=n=>(K("data-v-e4345133"),n=n(),ee(),n),me={class:"banner",flex:"","w-520px":"","flex-col":"","justify-center":"","items-center":""},_e=ue(()=>i("div",{"w-350px":"","text-3xl":"","font-500":"","color-white":"","text-left":"",relative:"","mb-10":""},"开箱即用的高质量模板",-1)),pe=["src"],fe=b({__name:"banner",setup(n){return(a,u)=>(y(),A("div",me,[_e,i("img",{src:s(ce),"w-350px":""},null,8,pe)]))}});const ge=se(fe,[["__scopeId","data-v-e4345133"]]);var v=(n=>(n[n.LOGIN=0]="LOGIN",n[n.REGISTER=1]="REGISTER",n))(v||{});const O=B(0);function C(){function n(m){O.value=m}const a=k(()=>O.value);function u(){n(0)}return{setLoginState:n,getLoginState:a,handleBackLogin:u}}const ve={"font-500":"","text-3xl":"","mb-4":""},he={"text-xl":"","c-gray":"","mb-4":""},Y=b({__name:"form-title",setup(n){const a="Vue Arco Admin",{getLoginState:u}=C(),m=k(()=>({[v.LOGIN]:"登录",[v.REGISTER]:"注册"})[s(u)]);return(h,S)=>(y(),A("div",null,[i("div",ve,g(s(m))+" "+g(s(a)),1),i("div",he,g(s(m))+" "+g(s(a)),1)]))}}),xe={"w-320px":""},we={"h-32px":"","color-red-5":"","text-xl":""},be={flex:"","justify-between":""},Se=b({__name:"login-form",setup(n){const a=B(""),u=ne(),{setLoginState:m,getLoginState:h}=C(),S=ie(),{loading:L,setLoading:r}=X(),E=k(()=>s(h)===v.LOGIN),x=le("login-config",{rememberPassword:!0,username:"admin",password:"123456"}),f=N({username:x.value.username,password:x.value.password}),_=p=>{x.value.rememberPassword=p},t=async({errors:p,values:d})=>{if(!L.value&&!p){r(!0);try{const l=await u.login(d);l&&(S.replace((l==null?void 0:l.homePath)||ae),j.success("登录成功"))}catch(l){a.value=l.message}finally{r(!1)}}};return(p,d)=>{const l=V("icon-user"),F=M,I=z,$=V("icon-lock"),P=D,G=oe,T=te,c=H,Z=Q,J=W;return U((y(),A("div",xe,[e(Y),i("div",we,g(a.value),1),e(J,{ref:"loginForm",model:f,layout:"vertical",onSubmit:t},{default:o(()=>[e(I,{field:"username",rules:[{required:!0,message:"用户名不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(F,{modelValue:f.username,"onUpdate:modelValue":d[0]||(d[0]=R=>f.username=R),placeholder:"用户名: admin"},{prefix:o(()=>[e(l)]),_:1},8,["modelValue"])]),_:1}),e(I,{field:"password",rules:[{required:!0,message:"密码不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(P,{modelValue:f.password,"onUpdate:modelValue":d[1]||(d[1]=R=>f.password=R),placeholder:"密码: admin","allow-clear":""},{prefix:o(()=>[e($)]),_:1},8,["modelValue"])]),_:1}),e(Z,{size:16,direction:"vertical"},{default:o(()=>[i("div",be,[e(G,{checked:"rememberPassword","model-value":s(x).rememberPassword,onChange:_},{default:o(()=>[w(" 记住密码 ")]),_:1},8,["model-value","onChange"]),e(T,null,{default:o(()=>[w("忘记密码")]),_:1})]),e(c,{type:"primary","html-type":"submit",loading:s(L),long:""},{default:o(()=>[w("登录")]),_:1},8,["loading"]),e(c,{type:"text",long:"",onClick:d[2]||(d[2]=R=>s(m)(s(v).REGISTER))},{default:o(()=>[w("注册账号")]),_:1})]),_:1})]),_:1},8,["model"])],512)),[[q,s(E)]])}}}),Ie={"w-320px":""},Ve={"h-32px":"","color-red-5":"","text-xl":""},ye=b({__name:"register-form",setup(n){const a=B(""),{setLoginState:u,getLoginState:m}=C(),{loading:h,setLoading:S}=X(),L=k(()=>s(m)===v.REGISTER),r=N({username:"",password:"",confirmPassword:"",email:""}),E=[{required:!0,message:"确认密码不能为空"},{validator:(_,t)=>{_!==r.password?t(new Error("两次密码不一致").message):t()}}],x=[{required:!0,message:"邮箱不能为空"},{validator:(_,t)=>{_.includes("@")?t():t(new Error("邮箱格式不正确").message)}}],f=({errors:_,values:t})=>{if(!h.value&&!_){S(!0);try{j.success(`注册成功${t.username}`)}catch(p){a.value=p.message}finally{S(!1)}}};return(_,t)=>{const p=V("icon-user"),d=M,l=z,F=V("icon-email"),I=V("icon-lock"),$=D,P=H,G=Q,T=W;return U((y(),A("div",Ie,[e(Y),i("div",Ve,g(a.value),1),e(T,{ref:"loginForm",model:r,layout:"vertical",onSubmit:f},{default:o(()=>[e(l,{field:"username",rules:[{required:!0,message:"用户名不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(d,{modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=c=>r.username=c),placeholder:"用户名"},{prefix:o(()=>[e(p)]),_:1},8,["modelValue"])]),_:1}),e(l,{field:"email",rules:x,"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(d,{modelValue:r.email,"onUpdate:modelValue":t[1]||(t[1]=c=>r.email=c),placeholder:"邮箱"},{prefix:o(()=>[e(F)]),_:1},8,["modelValue"])]),_:1}),e(l,{field:"password",rules:[{required:!0,message:"密码不能为空"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e($,{modelValue:r.password,"onUpdate:modelValue":t[2]||(t[2]=c=>r.password=c),placeholder:"密码","allow-clear":""},{prefix:o(()=>[e(I)]),_:1},8,["modelValue"])]),_:1}),e(l,{field:"confirmPassword",rules:E,"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e($,{modelValue:r.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=c=>r.confirmPassword=c),placeholder:"确认密码","allow-clear":""},{prefix:o(()=>[e(I)]),_:1},8,["modelValue"])]),_:1}),e(G,{size:16,direction:"vertical"},{default:o(()=>[e(P,{type:"primary","html-type":"submit",loading:s(h),long:""},{default:o(()=>[w("注册")]),_:1},8,["loading"]),e(P,{type:"text",long:"",onClick:t[4]||(t[4]=c=>s(u)(s(v).LOGIN))},{default:o(()=>[w("返回登录")]),_:1})]),_:1})]),_:1},8,["model"])],512)),[[q,s(L)]])}}}),Ae={flex:"","h-100vh":""},Le={fixed:"","top-4":"","left-4":"","z-1":"","inline-flex":"","items-center":""},$e=i("img",{"w-8":"",alt:"logo",src:de},null,-1),Pe={"m-2":"","text-2xl":"","font-500":"","color-white":""},Re={relative:"",flex:"","flex-1":"","items-center":"","justify-center":"","pb-40px":""},ke={absolute:"",w:"100%","right-0":"","bottom-0":""},Ee=b({name:"Login"}),qe=b({...Ee,setup(n){const a="Vue Arco Admin";return(u,m)=>(y(),A("div",Ae,[i("div",Le,[$e,i("div",Pe,g(s(a)),1)]),e(ge),i("div",Re,[i("div",null,[e(Se),e(ye)]),i("div",ke,[e(re)])])]))}});export{qe as default};
