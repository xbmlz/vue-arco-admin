import{_ as ee,u as G,a as te,B as oe}from"./index.22176bf8.js";import{d as b,z as F,A as C,D as a,u as o,aK as se,aL as ne,a as P,c as A,aM as f,r as N,aN as O,aO as ae,aP as re,aQ as U,aR as j,aS as q,aT as M,aE as e,aD as t,aU as w,aI as z,aF as y,aV as H,aW as K,aX as Q}from"./arco.fdb11f46.js";/* empty css              *//* empty css              *//* empty css               */import{u as W,F as ue}from"./index.63b9a472.js";import{u as le,e as ie}from"./vue.bcba0830.js";const ce="/vue-arco-admin/assets/logo.85d92f24.svg",de="/vue-arco-admin/assets/login-banner.1dd0ed81.svg",_e=s=>(se("data-v-e4345133"),s=s(),ne(),s),me={class:"banner",flex:"","w-520px":"","flex-col":"","justify-center":"","items-center":""},pe=_e(()=>a("div",{"w-350px":"","text-3xl":"","font-500":"","color-white":"","text-left":"",relative:"","mb-10":""},"\u5F00\u7BB1\u5373\u7528\u7684\u9AD8\u8D28\u91CF\u6A21\u677F",-1)),fe=["src"],ge=b({__name:"banner",setup(s){return(r,l)=>(F(),C("div",me,[pe,a("img",{src:o(de),"w-350px":""},null,8,fe)]))}});const ve=ee(ge,[["__scopeId","data-v-e4345133"]]);var g=(s=>(s[s.LOGIN=0]="LOGIN",s[s.REGISTER=1]="REGISTER",s))(g||{});const T=P(0);function R(){function s(_){T.value=_}const r=A(()=>T.value);function l(){s(0)}return{setLoginState:s,getLoginState:r,handleBackLogin:l}}const he={"font-500":"","text-3xl":"","mb-4":""},xe={"text-xl":"","color-gray-5":"","mb-4":""},X=b({__name:"form-title",setup(s){const r=G(),l=A(()=>r.appTitle),{getLoginState:_}=R(),m=A(()=>({[g.LOGIN]:"\u767B\u5F55",[g.REGISTER]:"\u6CE8\u518C"})[o(_)]);return(v,S)=>(F(),C("div",null,[a("div",he,f(o(m))+" "+f(o(l)),1),a("div",xe,f(o(m))+" "+f(o(l)),1)]))}}),we={"w-320px":""},Ae={"h-32px":"","color-red-5":"","text-xl":""},be={flex:"","justify-between":""},Se=b({__name:"login-form",setup(s){const r=P(""),l=te(),{setLoginState:_,getLoginState:m}=R(),v=ie(),{loading:S,setLoading:i}=W(),L=A(()=>o(m)===g.LOGIN),h=le("login-config",{rememberPassword:!0,username:"admin",password:"123456"}),d=N({username:h.value.username,password:h.value.password}),n=x=>{h.value.rememberPassword=x},B=async({errors:x,values:u})=>{if(!S.value&&!x){i(!0);try{const c=await l.login(u);c&&(v.replace((c==null?void 0:c.homePath)||oe),z.success("\u767B\u5F55\u6210\u529F"))}catch(c){r.value=c.message}finally{i(!1)}}};return(x,u)=>{const c=y("icon-user"),I=O,E=H,V=y("icon-lock"),$=K,p=ae,J=re,k=Q,Y=U,Z=j;return q((F(),C("div",we,[e(X),a("div",Ae,f(r.value),1),e(Z,{ref:"loginForm",model:d,layout:"vertical",onSubmit:B},{default:t(()=>[e(E,{field:"username",rules:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[e(I,{modelValue:d.username,"onUpdate:modelValue":u[0]||(u[0]=D=>d.username=D),placeholder:"\u7528\u6237\u540D: admin"},{prefix:t(()=>[e(c)]),_:1},8,["modelValue"])]),_:1}),e(E,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[e($,{modelValue:d.password,"onUpdate:modelValue":u[1]||(u[1]=D=>d.password=D),placeholder:"\u5BC6\u7801: admin","allow-clear":""},{prefix:t(()=>[e(V)]),_:1},8,["modelValue"])]),_:1}),e(Y,{size:16,direction:"vertical"},{default:t(()=>[a("div",be,[e(p,{checked:"rememberPassword","model-value":o(h).rememberPassword,onChange:n},{default:t(()=>[w(" \u8BB0\u4F4F\u5BC6\u7801 ")]),_:1},8,["model-value","onChange"]),e(J,null,{default:t(()=>[w("\u5FD8\u8BB0\u5BC6\u7801")]),_:1})]),e(k,{type:"primary","html-type":"submit",loading:o(S),long:""},{default:t(()=>[w("\u767B\u5F55")]),_:1},8,["loading"]),e(k,{type:"text",long:"",onClick:u[2]||(u[2]=D=>o(_)(o(g).REGISTER))},{default:t(()=>[w("\u6CE8\u518C\u8D26\u53F7")]),_:1})]),_:1})]),_:1},8,["model"])],512)),[[M,o(L)]])}}}),Be={"w-320px":""},Ee={"h-32px":"","color-red-5":"","text-xl":""},Fe=b({__name:"register-form",setup(s){const r=P(""),{setLoginState:l,getLoginState:_}=R(),{loading:m,setLoading:v}=W(),S=A(()=>o(_)===g.REGISTER),i=N({username:"",password:"",confirmPassword:""}),L=[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{validator:(d,n)=>{d!==i.password?n(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4").message):n()}}],h=({errors:d,values:n})=>{if(!m.value&&!d){v(!0);try{z.success(`\u6CE8\u518C\u6210\u529F${n.username}`)}catch(B){r.value=B.message}finally{v(!1)}}};return(d,n)=>{const B=y("icon-user"),x=O,u=H,c=y("icon-lock"),I=K,E=Q,V=U,$=j;return q((F(),C("div",Be,[e(X),a("div",Ee,f(r.value),1),e($,{ref:"loginForm",model:i,layout:"vertical",onSubmit:h},{default:t(()=>[e(u,{field:"username",rules:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[e(x,{modelValue:i.username,"onUpdate:modelValue":n[0]||(n[0]=p=>i.username=p),placeholder:"\u7528\u6237\u540D"},{prefix:t(()=>[e(B)]),_:1},8,["modelValue"])]),_:1}),e(u,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[e(I,{modelValue:i.password,"onUpdate:modelValue":n[1]||(n[1]=p=>i.password=p),placeholder:"\u5BC6\u7801","allow-clear":""},{prefix:t(()=>[e(c)]),_:1},8,["modelValue"])]),_:1}),e(u,{field:"confirmPassword",rules:L,"validate-trigger":["change","blur"],"hide-label":""},{default:t(()=>[e(I,{modelValue:i.confirmPassword,"onUpdate:modelValue":n[2]||(n[2]=p=>i.confirmPassword=p),placeholder:"\u786E\u8BA4\u5BC6\u7801","allow-clear":""},{prefix:t(()=>[e(c)]),_:1},8,["modelValue"])]),_:1}),e(V,{size:16,direction:"vertical"},{default:t(()=>[e(E,{type:"primary","html-type":"submit",loading:o(m),long:""},{default:t(()=>[w("\u6CE8\u518C")]),_:1},8,["loading"]),e(E,{type:"text",long:"",onClick:n[3]||(n[3]=p=>o(l)(o(g).LOGIN))},{default:t(()=>[w("\u8FD4\u56DE\u767B\u5F55")]),_:1})]),_:1})]),_:1},8,["model"])],512)),[[M,o(S)]])}}}),Ce={flex:"","h-100vh":""},Ie={fixed:"","top-4":"","left-4":"","z-1":"","inline-flex":"","items-center":""},De=a("img",{"w-8":"",alt:"logo",src:ce},null,-1),ye={"m-2":"","text-2xl":"","font-500":"","color-white":""},Le={relative:"",flex:"","flex-1":"","items-center":"","justify-center":"","pb-40px":""},Ve={absolute:"",w:"100%","right-0":"","bottom-0":""},$e=b({name:"Login"}),Ue=b({...$e,setup(s){const r=G(),l=A(()=>r.appTitle);return(_,m)=>(F(),C("div",Ce,[a("div",Ie,[De,a("div",ye,f(o(l)),1)]),e(ve),a("div",Le,[a("div",null,[e(Se),e(Fe)]),a("div",Ve,[e(ue)])])]))}});export{Ue as default};
